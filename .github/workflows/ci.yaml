# THIS FILE WAS AUTOMATICALLY GENERATED, PLEASE DO NOT EDIT.
#
# Generated on 2023-09-30T13:40:45Z by kres e52eb75-dirty.

name: default
"on":
  push:
    branches:
      - main
      - release-*
    tags:
      - v*
  pull_request:
    branches:
      - main
      - release-*
jobs:
  default:
    permissions:
      contents: write
      packages: write
    runs-on:
      - self-hosted
      - generic
    if: ${{ !startsWith(github.head_ref, 'renovate/') || !startsWith(github.head_ref, 'dependabot/') }}
    services:
      buildkitd:
        image: moby/buildkit:v0.12.2-rootless
        ports:
          - 1234:1234
    steps:
      - name: checkout
        uses: actions/checkout@v3
      - name: Unshallow
        run: |
          git fetch --prune --unshallow
      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v2
        with:
          driver: remote
          endpoint: tcp://localhost:1234
      - name: base
        run: |
          make base
